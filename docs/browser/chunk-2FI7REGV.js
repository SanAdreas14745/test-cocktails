import{p as G,x as Q,y as W,z as X}from"./chunk-WR5JMDV4.js";import"./chunk-NMGI7OHJ.js";import{g as A,l as U,q as K,r as J}from"./chunk-GS3LNMZZ.js";import{r as V,t as f}from"./chunk-ZHYIGQT3.js";import{b as $}from"./chunk-3ZRJHWES.js";import"./chunk-BYXBJQAS.js";import{$b as g,Db as z,Eb as _,Ja as p,K as v,Ra as P,T as a,V as k,Xa as C,Za as c,aa as T,ac as S,bc as B,ca as x,cb as R,da as y,gb as l,ha as b,hb as s,ib as q,jb as E,kb as L,ma as w,mb as N,na as j,nb as u,o as I,ob as m,u as O,wb as F,yb as H}from"./chunk-YAMN4WAQ.js";import"./chunk-BYXBJQAS.js";import"./chunk-4CLCTAJ7.js";function D(n,e){let t=!e?.manualCleanup;t&&!e?.injector&&T(D);let i=t?e?.injector?.get(b)??a(b):null,o=Z(e?.equal),d;e?.requireSync?d=P({kind:0},{equal:o}):d=P({kind:1,value:e?.initialValue},{equal:o});let M=n.subscribe({next:r=>d.set({kind:1,value:r}),error:r=>{if(e?.rejectErrors)throw r;d.set({kind:2,error:r})}});if(e?.requireSync&&d().kind===0)throw new v(601,!1);return i?.onDestroy(M.unsubscribe.bind(M)),g(()=>{let r=d();switch(r.kind){case 1:return r.value;case 2:throw r.error;case 0:throw new v(601,!1)}},{equal:e?.equal})}function Z(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}var h=class n{title=j("");previousBtnClick=w();nextBtnClick=w();router=a(f);onBackBtnClick(){this.router.navigate(["/"])}onPreviousBtnClick(){this.previousBtnClick.emit()}onNextBtnClick(){this.nextBtnClick.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["app-cocktail-page-header"]],inputs:{title:[1,"title"]},outputs:{previousBtnClick:"previousBtnClick",nextBtnClick:"nextBtnClick"},standalone:!0,features:[_],decls:8,vars:7,consts:[[1,"header"],["icon","pi pi-arrow-circle-left","severity","secondary","size","large",3,"click","rounded","text"],[1,"header__title"],[1,"header__title-text"],[1,"header__buttons"],["icon","pi pi-arrow-left","severity","secondary","size","large",3,"click","rounded","text"],["icon","pi pi-arrow-right","severity","secondary","size","large",3,"click","rounded","text"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"p-button",1),u("click",function(){return i.onBackBtnClick()}),s(),l(2,"div",2)(3,"h2",3),F(4),s()(),l(5,"div",4)(6,"p-button",5),u("click",function(){return i.onPreviousBtnClick()}),s(),l(7,"p-button",6),u("click",function(){return i.onNextBtnClick()}),s()()()),t&2&&(p(),c("rounded",!0)("text",!0),p(3),H(" ",i.title(),""),p(2),c("rounded",!0)("text",!0),p(),c("rounded",!0)("text",!0))},dependencies:[G],styles:["[_nghost-%COMP%]{width:100%;height:100%}.header[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;align-items:center;width:100%}.header__title[_ngcontent-%COMP%]{flex:1}.header__title-text[_ngcontent-%COMP%]{margin:0}.header__buttons[_ngcontent-%COMP%]{min-width:105px}"]})};function ne(n,e){if(n&1){let t=N();l(0,"app-cocktail-page-header",4),u("previousBtnClick",function(){x(t);let o=m(3);return y(o.navigateBtnClick("previous"))})("nextBtnClick",function(){x(t);let o=m(3);return y(o.navigateBtnClick("next"))}),s()}if(n&2){let t=m();c("title",t.strDrink)}}function ie(n,e){if(n&1&&q(0,"app-cocktail-item",5),n&2){let t=m();c("cocktail",t)}}function oe(n,e){n&1&&(l(0,"p-panel",1),C(1,ne,1,1,"ng-template",2)(2,ie,1,1,"ng-template",3),s())}function re(n,e){if(n&1&&(E(0),C(1,oe,3,0,"p-panel",1),L()),n&2){let t,i=m();p(),R((t=i.cocktail())?1:-1,t)}}var Y=class n{router=a(f);activatedRoute=a(V);cocktailsStore=a(K);cocktailLoading=g(()=>this.cocktailsStore.status()==="loading");cocktail=g(()=>this.cocktailsStore.cocktails().find(e=>e.idDrink===this.pageId()));currentCocktailId=g(()=>this.cocktail()?this.cocktailsStore.cocktails().indexOf(this.cocktail()):0);pageId$=this.activatedRoute.paramMap.pipe(I(e=>e.get("id")),O(Boolean));pageId=D(this.pageId$);constructor(){B(()=>{let e=this.pageId();S(()=>{e&&this.cocktailsStore.loadCocktailById(e)})})}navigateBtnClick(e){let t=this.currentCocktailId(),i=e==="next"?t+1:t-1,o=this.getCocktail(i);this.navigateToCocktail(o.idDrink)}navigateToCocktail(e){this.router.navigate([`cocktails/list/${e}`])}getCocktail(e){return this.cocktailsStore.cocktails().at(e)??this.cocktail()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["ng-component"]],standalone:!0,features:[z([A,$]),_],decls:1,vars:1,consts:[[4,"appLoader"],[1,"cocktail-page"],["pTemplate","header"],["pTemplate","content"],[3,"previousBtnClick","nextBtnClick","title"],[3,"cocktail"]],template:function(t,i){t&1&&C(0,re,2,1,"ng-container",0),t&2&&c("appLoader",i.cocktailLoading())},dependencies:[h,X,J,W,Q,U],styles:[".cocktail-page[_ngcontent-%COMP%]{position:relative;height:100%;text-align:center;gap:24px}[_nghost-%COMP%]     .p-panel-header{padding:.8rem}[_nghost-%COMP%]     .p-panel-title{font-size:24px}@media (min-width: 768px) and (max-width: 1440px){[_nghost-%COMP%]     .p-panel-title{font-size:20px}}@media (max-width: 768px){[_nghost-%COMP%]     .p-panel-title{font-size:16px}}[_nghost-%COMP%]     .p-panel-content{display:flex;flex-wrap:wrap;justify-content:center;gap:24px}"]})};export{Y as CocktailPageComponent};
